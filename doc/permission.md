路由权限

核心:

1. 后台返回的登录用户所拥有的路由表数据
2. 自定义的路由表(内容: 所有需要权限访问的路由) (动态路由 也可以称之为动态路由表) 路由分为 2 种: 静态路由 动态路由(自己定义的)

结果:
根据后端返回的用户所拥有的路由表数据, 在自定义的路由表中匹配出当前登录用户所拥有的路由数据, 再通过 router.addRoutes 添加静态路由表中

过程: 如何通过核心要素 达成 想要的结果

1. 在路由守卫中获取当前用户登录之后返回的所拥有的路由表数据
2. 在路由守卫文件中导入完整的自定义的动态路由表
3. 匹配出当前登录用户所需要的自定义的路由表数据
4. 将匹配出的路由表数据添加到静态路由表中

菜单权限:

核心:

1. 静态路由表的数据 与 动态路由表的数据 相结合之后的数据

结果:
让 el-menu 渲染的是静态路由表的数据 与 动态路由表的数据 相结合之后的数据

过程:

1. 在 vuex 中定义 menu 状态
2. menu 默认持有静态路由的数据
3. 在路由守卫中,添加完动态路由之后, 将添加的动态路由存储到 vuex 中的 menus 里面
4. 在 menu 组件内获取 vuex 中 menus 的数据进行渲染
